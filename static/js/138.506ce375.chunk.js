"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[138],{197:function(e,n,t){t.d(n,{MY:function(){return l},TP:function(){return v},XT:function(){return u},h$:function(){return f},tx:function(){return j},zv:function(){return m}});var r=t(861),i=t(757),a=t.n(i),s=t(44),c="https://api.themoviedb.org/3",o="2bb211a44af411c1339a508066d81474",l=function(e,n){return"https://image.tmdb.org/t/p/w".concat(n,"/").concat(e)};function u(){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.ZP.get("".concat(c,"/trending/movie/week?api_key=").concat(o)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.ZP.get("".concat(c,"/search/movie?api_key=").concat(o,"&query=").concat(n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.ZP.get("".concat(c,"/movie/").concat(n,"?api_key=").concat(o)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.ZP.get("".concat(c,"/movie/").concat(n,"/credits?api_key=").concat(o)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.ZP.get("".concat(c,"/movie/").concat(n,"/reviews?api_key=").concat(o)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},321:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(402),i=(t(791),t(184));function a(){return(0,i.jsx)("div",{className:"Loader",children:(0,i.jsx)(r.Nx,{width:"200",color:"#4fa94d"})})}},138:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r,i=t(885),a=t(731),s=t(739),c=t(197),o=t(791),l=t(168),u=t(617),d=t(444),f=t(184),h=(0,d.ZP)(a.rU)(r||(r=(0,l.Z)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: orangered;\n  }\n"]))),v=function(e){var n=e.to,t=e.children;return(0,f.jsxs)(h,{to:n,children:[(0,f.jsx)(u.jTe,{size:"24"}),t]})},p=t(321),m=function(){var e=(0,s.UO)().id,n=(0,o.useState)([]),t=(0,i.Z)(n,2),r=t[0],a=t[1],l=(0,o.useState)(!1),u=(0,i.Z)(l,2),d=u[0],h=u[1];return(0,o.useEffect)((function(){(0,c.zv)(e).then((function(e){return a(e.data.cast)})).finally((function(){return h(!1)}))}),[e]),(0,f.jsx)("section",{children:d?(0,f.jsx)(p.Z,{}):r.length?(0,f.jsx)("ul",{className:"cast",children:r.map((function(e){var n=e.id,t=e.name,r=e.profile_path,i=e.character;return(0,f.jsxs)("li",{className:"castItem",children:[(0,f.jsx)("img",{className:"castItem__image",src:r&&(0,c.MY)(r,200),alt:t}),t,(0,f.jsxs)("span",{children:["Character: ",(0,f.jsx)("b",{children:i})]})]},n)}))}):(0,f.jsx)("p",{children:"No cast available"})})},x=function(){var e=(0,s.UO)().id,n=(0,o.useState)([]),t=(0,i.Z)(n,2),r=t[0],a=t[1],l=(0,o.useState)(!1),u=(0,i.Z)(l,2),d=u[0],h=u[1];return(0,o.useEffect)((function(){h(!0),(0,c.tx)(e).then((function(e){return a(e.data.results)})).finally((function(){return h(!1)}))}),[e]),(0,f.jsx)("section",{children:d?(0,f.jsx)(p.Z,{}):r.length?(0,f.jsx)("ul",{className:"review",children:null===r||void 0===r?void 0:r.map((function(e){var n=e.author,t=e.content,r=e.id;return(0,f.jsxs)("li",{className:"review__item",children:[(0,f.jsxs)("h2",{className:"review__author",children:["Author: ",n]}),(0,f.jsx)("p",{className:"review__text",children:t})]},r)}))}):(0,f.jsx)("p",{children:"No reviews available"})})},j=t(403),_=function(){var e,n,t,r,l=(0,s.UO)().id,u=(0,o.useState)(null),d=(0,i.Z)(u,2),h=d[0],_=d[1],w=(0,o.useState)(!1),g=(0,i.Z)(w,2),N=g[0],Z=g[1];(0,o.useEffect)((function(){Z(!0),(0,c.TP)(l).then((function(e){return _(e.data)})).finally((function(){return Z(!1)}))}),[l]);var k=(0,s.TH)(),y=null!==(e=null===(n=k.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies";return console.log(k.state),(0,f.jsx)("main",{className:"container",children:N?(0,f.jsx)(p.Z,{}):(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(v,{to:y,children:"Back to movies"}),(0,f.jsxs)("div",{className:"movieCard",children:[(0,f.jsx)("img",{className:"movieCard__image",src:(null===h||void 0===h?void 0:h.poster_path)&&(0,c.MY)(null===h||void 0===h?void 0:h.poster_path,300),alt:null===h||void 0===h?void 0:h.name}),(0,f.jsxs)("div",{className:"movieInfo",children:[(0,f.jsx)("h2",{className:"movieInfo__title",children:null===h||void 0===h?void 0:h.title}),(0,f.jsxs)("span",{className:"movieInfo__rating",children:["User Score ",Math.round(10*(null===h||void 0===h?void 0:h.vote_average)),"%"]}),(0,f.jsx)("h3",{className:"movieInfo__title-information",children:"Overview"}),(0,f.jsx)("p",{className:"movieInfo__overview",children:null===h||void 0===h?void 0:h.overview}),(0,f.jsx)("h4",{className:"movieInfo__title-information",children:"Genres"}),(0,f.jsx)("div",{className:"movieInfo__genre",children:null===h||void 0===h?void 0:h.genres.map((function(e){return(0,f.jsx)("span",{children:e.name},e.id)}))})]})]}),(0,f.jsxs)("div",{className:"additionalInfo",children:[(0,f.jsx)("span",{className:"additionalInfo__title",children:"Additional information"}),(0,f.jsxs)("ul",{className:"listOfLinks",children:[(0,f.jsx)("li",{className:"listOfLinks__item",children:(0,f.jsx)(a.rU,{to:"cast",state:{from:null===(t=k.state)||void 0===t?void 0:t.from},children:"Cast"})}),(0,f.jsx)("li",{className:"listOfLinks__item",children:(0,f.jsx)(a.rU,{to:"reviews",state:{from:null===(r=k.state)||void 0===r?void 0:r.from},children:"Reviews"})})]}),(0,f.jsx)(o.Suspense,{fallback:(0,f.jsx)(p.Z,{}),children:(0,f.jsxs)(s.Z5,{children:[(0,f.jsx)(s.AW,{path:j.Z.cast,element:(0,f.jsx)(m,{})}),(0,f.jsx)(s.AW,{path:j.Z.reviews,element:(0,f.jsx)(x,{})})]})})]})]})})}}}]);
//# sourceMappingURL=138.506ce375.chunk.js.map